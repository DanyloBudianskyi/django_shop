{% load shop_filters %}

<div class="relative bg-white shadow-lg rounded-2xl overflow-hidden transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl p-5 flex flex-col gap-3">
  
  {% if product.featured %}
    <span class="absolute top-3 left-3 badge badge-primary text-white font-semibold shadow-md">
      ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ
    </span>
  {% endif %}
  
  {% if product.image %}
    <img 
      src="{{ product.image.url }}" 
      alt="{{ product.title }}" 
      class="w-full h-56 object-cover rounded-xl"
    >
  {% endif %}

  <h2 class="text-xl font-bold text-gray-800 mt-2 line-clamp-2">
    {{ product.name }}
  </h2>

  <p class="text-gray-600 text-sm line-clamp-3">
    {{ product.description|truncatewords:15 }}
  </p>

  <p class="text-lg font-semibold text-indigo-600">
    –¶—ñ–Ω–∞: {{ product.price|compact_number }} ‚Ç¥
  </p>

  <p class="text-sm font-medium {{ product.is_available|yesno:'text-green-600,text-red-500' }}">
    {% if product.is_available %}
      ‚úÖ –Ñ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
    {% else %}
      ‚ùå –ù–µ–º–∞—î
    {% endif %}
  </p>

  <div class="flex justify-between text-sm text-gray-500 border-t pt-2 mt-auto">
    <span class="flex items-center gap-1">üìÇ {{ product.category.name }}</span>
    <span class="flex items-center gap-1">üëÅÔ∏è {{ product.views }}</span>
  </div>

  <a 
    href="{{ product.get_absolute_url }}" 
    class="btn btn-primary mt-4 w-full text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all"
  >
    –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ ‚Üí
  </a>
</div>
