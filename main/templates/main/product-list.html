{% extends 'main/base.html' %}
 
{% block title %}Products{% endblock %}
 
{% block content %}
 
    <h1 class="products-title">Products</h1>
    <div class="sort-buttons">
        <a href="?sort=new" class="sort-btn {% if current_sort == 'new' %}active{% endif %}">–°–ø–æ—á–∞—Ç–∫—É –Ω–æ–≤—ñ</a>
        <a href="?sort=old" class="sort-btn {% if current_sort == 'old' %}active{% endif %}">–°–ø–æ—á–∞—Ç–∫—É —Å—Ç–∞—Ä—ñ</a>
        <a href="?sort=popular" class="sort-btn {% if current_sort == 'popular' %}active{% endif %}">–°–ø–æ—á–∞—Ç–∫—É –ø–æ–ø—É–ª—è—Ä–Ω—ñ</a>
        <a href="?sort=price_low" class="sort-btn {% if current_sort == 'price_low' %}active{% endif %}">–ó–∞ —Ü—ñ–Ω–æ—é(—Å–ø–æ—á–∞—Ç–∫—É –¥–µ—à–µ–≤—ñ)</a>
        <a href="?sort=price_high" class="sort-btn {% if current_sort == 'price_high' %}active{% endif %}">–ó–∞ —Ü—ñ–Ω–æ—é(—Å–ø–æ—á–∞—Ç–∫—É –¥–æ—Ä–æ–≥—ñ)</a>
        <a href="?sort=name" class="sort-btn {% if current_sort == 'name' %}active{% endif %}">–ó–∞ –Ω–∞–∑–≤–æ—é</a>
    </div>

    <div class="products-grid">
        {% for product in products %}
            <div class="product-card">
                {% if product.featured %}
                    <span class="featured-badge">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ</span>
                {% endif %}
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.title }}">
                {% endif %}
                <h2 class="product-title">{{ product.name }}</h2>
                <p>{{ product.description|truncatewords:15 }}</p>
                <p>–¶—ñ–Ω–∞: {{ product.price }}</p>
                <p>
                    {% if product.is_available %}
                        –Ñ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
                    {% else %}
                        –ù–µ–º–∞—î
                    {% endif %}
                </p>
                <div class="product-meta">
                    <span class="meta-item">üìÇ {{ product.category.name }}</span>
                    <span class="meta-item">üëÅÔ∏è {{ product.views }}</span>
                </div>
                <a href="{{ product.get_absolute_url }}">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ ‚Üí</a>
            </div>
        {% empty %}
        <p class="no-products">–ü—Ä–æ–¥—É–∫—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>
        {% endfor %}
    </div>
 
{% endblock %}
